(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){e.exports={loginForm:"LoginForm_loginForm__7qgTG",text:"LoginForm_text__UOe3S",input:"LoginForm_input__3eacb"}},18:function(e,t,n){e.exports={chatForm:"ChatForm_chatForm__28JAT",chatInput:"ChatForm_chatInput__27x-e"}},21:function(e,t,n){e.exports={container:"Container_container__MgrPh"}},22:function(e,t,n){e.exports={chat:"Chat_chat__B-gOg"}},23:function(e,t,n){e.exports={chatWindow:"ChatWindow_chatWindow__3fST1"}},31:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(20),s=n.n(r),o=(n(31),n(21)),i=n.n(o),u=n(1),j=function(e){var t=e.children;return Object(u.jsx)("div",{className:i.a.container,children:t})},l=n(26),h=n(6),b=n(22),m=n.n(b),O=n(17),d=n.n(O),x=n(23),g=n.n(x),f=n(46),p=function(e){var t=e.messages;return Object(u.jsx)(f.a,{className:g.a.chatWindow,children:t.map((function(e){return Object(u.jsx)(f.a.Item,{children:"connection"===e.event?Object(u.jsxs)("p",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",e.username," \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0441\u044f"]}):Object(u.jsxs)("p",{children:[e.username,": ",e.message]})},e.id)}))})},_=n(18),v=n.n(_),F=n(47),S=n(45),C=function(e){var t=e.value,n=e.setValue,c=e.sendMessage;return Object(u.jsxs)(F.a,{className:v.a.chatForm,children:[Object(u.jsx)(F.a.Control,{className:v.a.chatInput,value:t,onChange:function(e){return n(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(u.jsx)(S.a,{variant:"success",type:"button",onClick:c,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},N=n(13),w=n.n(N),y=function(e){var t=e.username,n=e.setUsername,c=e.connect;return Object(u.jsx)(F.a,{className:w.a.loginForm,children:Object(u.jsxs)(F.a.Group,{controlId:"formBasicEmail",children:[Object(u.jsx)(F.a.Control,{className:w.a.input,type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),Object(u.jsx)(F.a.Text,{className:w.a.text,children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0447\u0430\u0442\u0443"}),Object(u.jsx)(S.a,{variant:"success",type:"button",onClick:c,children:"\u0412\u043e\u0439\u0442\u0438"})]})})},I=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(h.a)(r,2),o=s[0],i=s[1],j=Object(c.useRef)(),b=Object(c.useState)(!1),O=Object(h.a)(b,2),x=O[0],g=O[1],f=Object(c.useState)(""),_=Object(h.a)(f,2),v=_[0],F=_[1],S=Object(c.useState)(""),N=Object(h.a)(S,2),w=(N[0],N[1]);return Object(u.jsxs)(u.Fragment,{children:[!x&&Object(u.jsx)(y,{username:v,setUsername:F,connect:function(){j.current=new WebSocket("ws://localhost:5000"),j.current.onopen=function(){g(!0),console.log("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e!");var e={id:d.a.generate(),event:"connection",username:v};j.current.send(JSON.stringify(e)),w(e.id)},j.current.onmessage=function(e){var t=JSON.parse(e.data);a((function(e){return[].concat(Object(l.a)(e),[t])}))},j.current.onclose=function(){},j.current.onerror=function(){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}}}),x&&Object(u.jsxs)("div",{className:m.a.chat,children:[Object(u.jsx)(p,{messages:n}),Object(u.jsx)(C,{value:o,setValue:i,sendMessage:function(){var e={id:d.a.generate(),event:"message",message:o,username:v};j.current.send(JSON.stringify(e)),i("")}})]})]})};n(43);var J=function(){return Object(u.jsx)(j,{children:Object(u.jsx)(I,{})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(J,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.5c869a18.chunk.js.map